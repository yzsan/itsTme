{% extends "base.html" %}

{% block title %}Activity Detail{% endblock %}

{% block content %}
<h1 class="mb-4">{{ activity.name }}</h1>
<p>Last Done: {{ activity.last_done.strftime('%Y-%m-%d %H:%M:%S') }}</p>  <!-- before0と同じ -->
<p>Details: {{ activity.details }}</p>  <!-- before0と同じ -->

<h2>Update History</h2>  <!-- before0と同じ -->
<ul class="list-group mb-4">
    {% for update in updates %}  <!-- before0と同じ -->
    <li class="list-group-item">
        {{ update.timestamp.strftime('%Y-%m-%d %H:%M:%S') }} - {{ update.note }}  <!-- ここは敢えて、before0と同じ -->
    </li>
    {% endfor %}  <!-- before0と同じ -->
</ul>

<h2>Add Update</h2>
<form action="{{ url_for('update_activity', id=activity.id) }}" method="post" class="mb-4">
    <div class="form-group">
        <textarea name="note" class="form-control" placeholder="Add a note"></textarea>
    </div>
    <button type="submit" class="btn btn-primary">Update Last Done</button>
</form>

<form action="{{ url_for('delete_activity', id=activity.id) }}" method="post">  <!-- before0と同じ -->
    <button type="submit" class="btn btn-danger">Delete</button>
</form>

<a href="{{ url_for('index') }}" class="btn btn-secondary">Back to List</a>
{% endblock %}
