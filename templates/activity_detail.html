{% extends "base.html" %}

{% block title %}Activity Detail{% endblock %}

{% block content %}
<h1 class="mb-4">{{ activity.name }}</h1>
<p><strong>Last Done:</strong> {{ activity.last_done.strftime('%Y-%m-%d %H:%M:%S') }}</p>  <!-- before0と同じ -->
<p><strong>Details:</strong> {{ activity.details }}</p>  <!-- before0と同じ -->

<h2>Update History</h2>  <!-- before0と同じ -->
<ul>
    {% for update in updates %}  <!-- before0と同じ -->
    <li>
        {{ update.timestamp.strftime('%Y-%m-%d %H:%M:%S') }} - {{ update.note }}  <!-- ここは敢えて、before0と同じ -->
    </li>
    {% endfor %}  <!-- before0と同じ -->
</ul>

<h2>Add Update</h2>
<form action="{{ url_for('main.update_activity', id=activity.id) }}" method="post">
    <div class="form-group">
        <label for="note">Note</label>
        <textarea class="form-control" id="note" name="note" rows="3" placeholder="Add a note"></textarea>
    </div>
    <button type="submit" class="btn btn-custom">Update Last Done</button>
</form>

<form action="{{ url_for('main.delete_activity', id=activity.id) }}" method="post" class="mt-2">  <!-- before0と同じ -->
    <button type="submit" class="btn btn-danger">Delete</button>
</form>
<a href="{{ url_for('main.index') }}" class="btn btn-secondary mt-2">Back to List</a>
{% endblock %}
